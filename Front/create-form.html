<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Feedback Form | Admin</title>
    <link rel="stylesheet" href="../style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="dashboard">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-user-shield"></i> Admin</h2>
            </div>
            <ul class="sidebar-menu">
                <li><a href="dashboard.html"><i class="fas fa-home"></i> Dashboard</a></li>
                <li><a href="create-form.html" class="active"><i class="fas fa-plus-circle"></i> Create Form</a></li>
                <li><a href="#"><i class="fas fa-chart-bar"></i> Reports</a></li>
                <li><a href="#"><i class="fas fa-users"></i> Manage Users</a></li>
                <li><a href="#"><i class="fas fa-cog"></i> Settings</a></li>
                <li><a href="#"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
            </ul>
        </aside>
        
        <main class="main-content">
            <div class="page-header">
                <h1 class="page-title">Create Feedback Form</h1>
                <div class="user-info">
                    <div class="user-avatar">A</div>
                    <span>Admin User</span>
                </div>
            </div>
            
            <div class="card">
                <h2>New Feedback Form</h2>
                <p>Create a new feedback form for student evaluations.</p>
                
                <form id="create-feedback-form" onsubmit="createForm(event)">
                    <div class="form-group">
                        <label for="form-name" class="form-label">Form Name</label>
                        <input type="text" id="form-name" name="form-name" class="form-control" required 
                               placeholder="e.g., CS101 Fall 2023 Feedback">
                    </div>
                    
                    <div class="form-group">
                        <label for="course-select" class="form-label">Select Course</label>
                        <select id="course-select" name="course" class="form-control" required>
                            <option value="">-- Select a course --</option>
                            <option value="CS101">CS101 - Introduction to Programming</option>
                            <option value="MATH201">MATH201 - Calculus II</option>
                            <option value="ENG102">ENG102 - Academic Writing</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="form-questions" class="form-label">Questions</label>
                        <textarea id="form-questions" name="questions" class="form-control" rows="8" required
                                  placeholder="Enter each question on a new line">Overall, how would you rate this course?
The instructor communicated clearly and effectively.
The course materials were helpful and relevant.
The workload was appropriate for the credit hours.
What did you like most about this course?
What suggestions do you have for improving this course?</textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Form Settings</label>
                        <div class="form-check">
                            <input type="checkbox" id="anonymous" name="anonymous" checked>
                            <label for="anonymous">Anonymous responses</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" id="comments" name="comments" checked>
                            <label for="comments">Allow text comments</label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="deadline" class="form-label">Response Deadline</label>
                        <input type="date" id="deadline" name="deadline" class="form-control" required>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Create Form
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="location.href='dashboard.html'">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </form>
            </div>
        </main>
    </div>
    
    <script src="../script.js"></script>
    <script>
        // Set default deadline to 2 weeks from now
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date();
            const twoWeeksLater = new Date(today);
            twoWeeksLater.setDate(today.getDate() + 14);
            
            const formattedDate = twoWeeksLater.toISOString().split('T')[0];
            document.getElementById('deadline').value = formattedDate;
            document.getElementById('deadline').min = today.toISOString().split('T')[0];
        });
        
        function createForm(event) {
            event.preventDefault();
            
            const form = event.target;
            const formData = new FormData(form);
            
            // In a real app, this would send to the server
            console.log('Form created:', {
                name: formData.get('form-name'),
                course: formData.get('course'),
                questions: formData.get('questions').split('\n').filter(q => q.trim()),
                anonymous: formData.get('anonymous') === 'on',
                comments: formData.get('comments') === 'on',
                deadline: formData.get('deadline')
            });
            
            alert('Feedback form created successfully!');
            window.location.href = 'dashboard.html';
        }
    </script>
</body>
</html>
